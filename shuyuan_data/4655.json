[
  {
    "bookSourceComment": "以前的海棠搜书，使用登陆切换备用地址\n/*\n\t备用1：https://www.gohaiwan.com\n\t备用2：https://www.lanhaiss.cc\n\t备用3：https://www.golanhai.cc\n\t备用4：https://www.lhss.cc\n\t备用5：https://5g.sealib.cc\n\t备用6：https://m.sealib.cc\n\t*/",
    "bookSourceGroup": "特殊,网页源,🍑 耽美",
    "bookSourceName": "海湾/蓝海搜书",
    "bookSourceType": 0,
    "bookSourceUrl": "hw/lhss",
    "bookUrlPattern": "https?://([wm]+|5g).(gohaiwan|lanhaiss|golanhai|lhss|sealib).(com|cc)/book/\\d+/",
    "customOrder": -2,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "@js:\neval(String(source.loginUrl));\n\nvar book=[\"言‌情\",\"耽‌‌美\",\"同‌‌人\",\n\"综‌合\",\"P0‌1‌8\",\"都‌‌市\",\"现‌言\",\"古‌言\",\n\"轻‌小说\",\"原‌创\",\"科‌幻\",\"仙‌侠\",\"奇‌幻\",\n\"玄‌幻\",\"衍‌生\"];\n\nsort=book.map(title=>\n\t({\n    \"title\": title,\n    \"url\": url+`/s/${title}/{{page}}/`,\n    \"style\": {\n      \"layout_flexGrow\": 1,\n       \"layout_flexBasisPercent\": 0.25,\n    }\n  }));\n  \nJSON.stringify(sort)",
    "header": "{\"User-Agent\": \"Mozilla/5.0 (Linux; Android 9) Mobile Safari/537.36\"}",
    "lastUpdateTime": 1705901106982,
    "loginCheckJs": "",
    "loginUi": "[\n    {\n        name: \"   设置书源接口   \",\n        type: \"button\",\n        action: \"java.toast('点击下面按钮即可设置，更改接口后需长按发现列表刷新。')\"\n    },\n    {\n    \t   name: \"   显示当前接口   \",\n    \t   type: \"button\",\n    \t   action: \"get(v)\"\n    \t},\n    \t{\n    \t\t   name: \"接口1：海湾搜书1\",\n    \t\t   type: \"button\",\n    \t\t   action: \"set(1)\"\n    \t\t},\n    \t\t{\n    \t\t\t   name: \"接口2：蓝海搜书2\",\n    \t\t\t   type: \"button\",\n    \t\t\t   action: \"set(2)\"\n    \t\t\t},\n    \t\t{\n    \t\t\t   name: \"接口3：蓝海搜书3\",\n    \t\t\t   type: \"button\",\n    \t\t\t   action: \"set(3)\"\n    \t\t\t},\n    \t\t{\n    \t\t\t   name: \"接口4：蓝海搜书4\",\n    \t\t\t   type: \"button\",\n    \t\t\t   action: \"set(4)\"\n    \t\t\t},\n    \t\t{\n    \t\t\t   name: \"接口5：蓝海搜书6\",\n    \t\t\t   type: \"button\",\n    \t\t\t   action: \"set(5)\"\n    \t\t\t},\n    \t\t{\n    \t\t\t   name: \"接口6：蓝海搜书6\",\n    \t\t\t   type: \"button\",\n    \t\t\t   action: \"set(6)\"\n    \t\t\t}\n]",
    "loginUrl": "var v=source.getVariable();\ndata={\n\t1:[\"海湾搜书1\",\n\t\"https://www.gohaiwan.com\"],\n\t2:[\"蓝海搜书2\",\n\t\"https://www.lanhaiss.cc\"],\n\t3:[\"蓝海搜书3\",\n\t\"https://www.golanhai.cc\"],\n\t4:[\"蓝海搜书4\",\"https://www.lhss.cc\"],\n\t5:[\"蓝海搜书5\",\"https://5g.sealib.cc\"],\n\t6:[\"蓝海搜书6\",\"https://m.sealib.cc\"]\n\t};\n\nif(!v||v==\"\"){\n\tv=1;source.setVariable(v);\n\tjava.toast(\"未设置接口，默认海湾搜书。\")\n\t}else{v=v}\n\nfunction set(n){\n\tshow=\"设置成功！当前接口：\\n\";\n\ttips=\"\\n接口已更改，长按发现列表刷新后生效。\";\n\tjava.longToast(show+data[n]+tips);\n\treturn source.setVariable(n)\n\t}\n\nfunction get(v){\n\tshow=\"当前接口：\\n\";\n\treturn java.longToast(show+data[v]);\n\t}\n\nurl=data[v][1];\nurl;",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "a",
      "coverUrl": "c",
      "init": "@js:\nvar bv=book.getVariable(\"custom\");\nif(!bv||bv==\"\"){\n\t//java.log(\"未设置书源接口，默认1\")\n\tv=1-1;\n\t}else{\n\t\tv=Number(bv)-1;\n\t\t}\n//\tjava.put(\"v\",v)\n//result;\nj=org.jsoup.Jsoup.parse(result);\n$=e=>j.select(e);\ndec=u=>decodeURIComponent(u);\n\nintro=v=>{\n\tvar lis=$(\"li.site\"),list=[],\n\ttxt=lis.eq(v).select(\"a\").eq(1).text(),\n\th=lis.eq(v).select(\"a\").eq(1).attr(\"href\");\n\tcurr=`\\n当前源：${v+1}\n\t\\n章节目录来自：${txt}\\n\n\t${dec(h).split(\"?u=\")[1]}`;\n\tlisa=lis.toArray();\n\tlb=lisa.forEach((a,i)=>{\n\t\tname=a.select(\"a\").get(1).text()\n\t\tu=a.select(\"a\").get(1).attr(\"href\")\n\t\turl=dec(u).split(\"?u=\")[1];\n\t\tadd=`${i+1}、${name}：${url}`;\n\t\tlist.push(add)\n\t\t})\n\t\ttips=\"\\n源列表：（多个源可设置书籍变量更改目录）\\n\"\n\t\tjie=\"\\n简介：\\n\"+$(\"#intro\").text();\n\t\tjsa=curr+tips+list.join(\"\\n\")+jie;\n\t\treturn jsa;\n\t\t}\n\t\nlink=v=>{\n\tvar u=$(\"li.site\").get(v)\n\t.select(\"a\").eq(1).attr(\"href\");\n\treturn dec(u).split(\"?u=\")[1];\n\t}\n\t\n(function(){\n\tname=$(\"p.title\").text();\n\tauthor=$(\"p.author\").text();\n\tkind=$(\"p[class~=category|time]\").text()\n\tlast=$(\"p.newestChapter a\").text()\n\tcover=$(\".BGsectionOne-top-left img\").attr(\"src\");\n\tinfo={\n\t\tn:name,\n\t\ta:author,\n\t\tk:kind,\n\t\tl:last,\n\t\ti:intro(v),\n\t\tc:cover,\n\t\tu:link(v)\n\t\t};\n\treturn info;\n\t})()",
      "intro": "i",
      "kind": "k##(标签|更新时间)[：:]##,",
      "lastChapter": "l",
      "name": "n",
      "tocUrl": "u",
      "wordCount": ""
    },
    "ruleContent": {
      "content": "@js:\ntry{\n\td=(a,b)=>{\n\t\tb = java.md5Encode(b);\n   var d = b.substring(0,16);\n   var e = b.substring(16);\n   type = \"AES/CBC/PKCS7Padding\";\n  cipher=java.createSymmetricCrypto(\n  \ttype,e,d);\n   \treturn cipher.decryptStr(a);\n   }\n   code=src.match(/html\\((d\\(.+\\))\\)/)[1];\n   //java.log(code)\n\t\tresult=eval(code);\n\t}catch(e){\n\t\tjava.log(e)\n\t\t//如果解密出错，使用动态解密\n\t\tweb=java.webView(null,baseUrl,null);\n\t\tjava.setContent(web);\n\t\tcontent=java.getElement(\n\t\t\t\".RBGsectionThree-content\");\n\t\t\tresult=content.html();\n\t\t}finally{\n\t\t\tresult\n\t\t\t}"
    },
    "ruleExplore": [],
    "ruleReview": [],
    "ruleSearch": {
      "author": "a.1@text",
      "bookList": "<js>\nvar bu=baseUrl,\nne=bu.replace('s/',\"s/new/\"),\nho=bu.replace('s/',\"s/hot/\");\nurl=[bu, ne, ho];\nall=java.ajaxAll(url);\na=all.map(a => a.body() );\na.join(\"\\n\")\n</js>\n.SHsectionThree-middle>p,p.intro",
      "bookUrl": "a.0@href",
      "coverUrl": "@js:\"https://area52.mitecdn.com/book-image.jpg\"",
      "intro": ".intro@text",
      "kind": "a.2@text",
      "name": "a.0@text##《|》"
    },
    "ruleToc": {
      "chapterList": "ol li a",
      "chapterName": "text",
      "chapterUrl": "href",
      "nextTocUrl": "id.next@href"
    },
    "searchUrl": "{{eval(String(source.loginUrl));\n\turl}}/s/{{key}}/{{page}}/",
    "variableComment": "设置源接口，刷新后生效",
    "weight": 0
  }
]